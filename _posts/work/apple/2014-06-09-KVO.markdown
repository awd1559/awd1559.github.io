---
layout:     post
title:      "ios framework"
subtitle:   " \"ios framework\""
date:       2014-06-09 12:00:00
author:     "awd"
header-img: "img/post-bg-2015.jpg"
tags:
    - apple
---
@interface DataModel : NSObject{
	NSString* name;
	float price;
}
@end
@implementation DataModel
@end
data = [DataModel alloc] init];
data setValue:@"tom" forKey:@"name"
data setValue:@"10.0" forKey:@"price"
data addObserver:self forKeyPath:@"price" options:NSKeyValueObservingOptionNew|NSKeyValueObservingOptionOld context:NULL

myLabel.text = data valueForKey:@"name"

[self.button addTarget:self action:@selector(buttonAction) forControlEvents:UIControlEventTouchUpInside];
//in buttonAction
data setValue:@"20.0" forKey:@"name"	//myLabel.text = 20.0

//handler
-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context
{
    if([keyPath isEqualToString:@"name"])
    {
        self.label.text = [self.data valueForKey:@"name"];
    }
}



- (void)dealloc  
{  
    [super dealloc];  
    [data removeObserver:self forKeyPath:@"name"];  
    [data release];  
}